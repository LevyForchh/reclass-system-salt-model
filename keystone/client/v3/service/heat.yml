parameters:
  _param:
    heat_service_protocol: http
  keystone:
    client:
      resources:
        v3:
          domains:
            heat_user_domain:
              description: 'Contains users and projects created by heat'
          roles:
            heat_stack_user:
              name: heat_stack_user
              enabled: true
            heat_stack_owner:
              name: heat_stack_owner
              enabled: true
          users:
            heat:
              password: ${_param:keystone_heat_password}
              email: ${_param:admin_email}
              roles:
                service_admin:
                  name: admin
                  project_id: service
            heat_domain_admin:
              password: ${_param:heat_domain_admin_password}
              email: ${_param:admin_email}
              roles:
                heat_stack_admin:
                  name: admin
                  role_domain_id: heat_user_domain
                  domain_id: heat_user_domain
          services:
            heat:
              type: orchestration
              description: OpenStack Orchestration Service
              endpoints:
                heat_public_v1:
                  interface: 'public'
                  url: ${_param:cluster_public_protocol}://${_param:cluster_public_host}:8004/v1/%(project_id)s
                  region: ${_param:openstack_region}
                heat_internal_v1:
                  interface: 'internal'
                  url: ${_param:heat_service_protocol}://${_param:heat_service_host}:8004/v1/%(project_id)s
                  region: ${_param:openstack_region}
                heat_admin_v1:
                  interface: 'admin'
                  url: ${_param:heat_service_protocol}://${_param:heat_service_host}:8004/v1/%(project_id)s
                  region: ${_param:openstack_region}
